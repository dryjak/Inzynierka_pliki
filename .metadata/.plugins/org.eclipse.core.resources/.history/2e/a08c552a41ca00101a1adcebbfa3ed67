/*
 * state_mashine.h
 *
 *  Created on: Nov 24, 2025
 *      Author: dryla
 */

#ifndef INC_STATE_MASHINE_H_
#define INC_STATE_MASHINE_H_

typedef enum{
		IDLE = 0,
		DEBOUNCE,
		PRESSED
}ButtonState;

typedef struct{
	ButtonState 	State;

	GPIO_TypeDef 	*GpioPort;
	uint16_t 		GpioPin;

	uint32_t		TimerDebounce;
	uint32_t 		LastTick;

	void (*ButtonPressed)(void);
}Button_t;

void Button_Init(Button_t *Button, GPIO_TypeDef *GpioPort, uint16_t GpioPin, uint32_t TimerDebounce);
void Button_RegisterPressCallback(Button_t *Button, void(*Callback)());
void ButtonTasks(Button_t *Button);
void Button_SetDebounceTimer(Button_t *Button, uint32_t Milliseconds);





#endif /* INC_STATE_MASHINE_H_ */

